<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Authentication</title>
</head>
<body>

<div th:if="${param.form == null or param.form[0] == 'login'}">
    <h2>Login</h2>
    <form action="/auth/login" th:action="@{/auth/login}" th:object="${loginRequest}" method="post">
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" th:field="*{email}" required>
        </div>
        <br>
        <div>
            <label for="password">Password:</label>
            <input type="password" id="password" th:field="*{password}" required minlength="8">
        </div>
        <br>
        <button type="submit">Login</button>
    </form>
    <p>Don't have an account? <a th:href="@{/auth(form='register')}">Register here</a>.</p>
</div>

<div th:if="${param.form != null and param.form[0] == 'register'}">
    <h2>Register</h2>
    <form action="/auth/register" th:action="@{/auth/register}" th:object="${registerRequest}" method="post">
        <div>
            <label for="reg-email">Email:</label>
            <input type="email" id="reg-email" th:field="*{email}" required minlength="1">
        </div>
        <br>
        <div>
            <label for="reg-password">Password:</label>
            <input type="password" id="reg-password" th:field="*{password}" required minlength="8">
        </div>
        <br>
        <button type="submit">Register</button>
    </form>
    <p>Already have an account? <a th:href="@{/auth(form='login')}">Login here</a>.</p>
</div>

<div th:if="${successMessage}">
    <p th:text="${successMessage}" style="color: green;"></p>
</div>

</body>
</html>