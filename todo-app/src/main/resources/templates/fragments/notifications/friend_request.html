<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="card(notification)" th:id="'notification-' + ${notification.id}"
     class="card mb-3 shadow-sm"
     th:classappend="(${!notification.isRead} ? 'unread ' : '') + (${notification.resolved} ? 'resolved' : '')">

    <div class="card-header bg-primary text-white">
        Friend Request
    </div>
    <div class="card-body">


        <div class="d-flex align-items-center">

            <a th:href="@{/profile/{id}(id=${notification.sender.id})}">
                <img th:src="@{/files/profile-pictures/{filename}(filename=${notification.sender.profilePicturePath ?: 'default-avatar.jpg'})}"
                     alt="Profile Picture" class="rounded-circle me-3" style="width: 50px; height: 50px; object-fit: cover;">
            </a>

            <div>
                <p class="card-text mb-0">
                    <a th:href="@{/profile/{id}(id=${notification.sender.id})}"
                       class="fw-bold text-dark text-decoration-none"
                       th:text="${notification.sender.firstName + ' ' + notification.sender.lastName}">
                        [Sender Name]
                    </a>
                    <span th:text="' ' + ${notification.message}">[Notification Message]</span>
                </p>
            </div>
        </div>



        <div th:if="${!notification.resolved}" class="d-flex justify-content-end mt-3 notification-actions">
            <button class="btn btn-success btn-sm me-2 accept-request"
                    th:data-request-id="${notification.requestId}">
                Accept
            </button>
            <button class="btn btn-danger btn-sm decline-request"
                    th:data-request-id="${notification.requestId}">
                Decline
            </button>
        </div>

        <div th:if="${notification.resolved}" class="mt-3 text-muted resolved-status">
            <small>This request has been resolved.</small>
        </div>

    </div>
    <div class="card-footer text-muted text-end" style="font-size: 0.8rem;">
        Received: <span th:text="${notification.notificationTime}">[Date]</span>
    </div>
</div>

</body>
</html>