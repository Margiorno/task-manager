-- USERS --
INSERT INTO users (
    id,
    email,
    password,
    first_name,
    last_name,
    date_of_birth,
    gender
)
SELECT
    '11111111-1111-1111-1111-111111111111',
    'userAB@example.com',
    '$2a$10$.6mhuXodjotvfCoIMpWnGOE/Sz1.34zp5EY7nRH8brQW5CIg1vHjW',
    'Adam',
    'Borek',
    '1990-05-12',
    'MALE'
    WHERE NOT EXISTS (
    SELECT 1 FROM users WHERE id = '11111111-1111-1111-1111-111111111111'
);

INSERT INTO users (
    id,
    email,
    password,
    first_name,
    last_name,
    date_of_birth,
    gender
)
SELECT
    '11111111-1111-1111-1111-111111111112',
    'userA@example.com',
    '$2a$10$.6mhuXodjotvfCoIMpWnGOE/Sz1.34zp5EY7nRH8brQW5CIg1vHjW',
    'Agnieszka',
    'Nowak',
    '1985-08-24',
    'FEMALE'
    WHERE NOT EXISTS (
    SELECT 1 FROM users WHERE id = '11111111-1111-1111-1111-111111111112'
);



INSERT INTO users (id, email, password)
SELECT '11111111-1111-1111-1111-111111111112', 'userA@example.com', '$2a$10$.6mhuXodjotvfCoIMpWnGOE/Sz1.34zp5EY7nRH8brQW5CIg1vHjW'
    WHERE NOT EXISTS (
    SELECT 1 FROM users WHERE id = '11111111-1111-1111-1111-111111111112'
);


-- TEAMS --
INSERT INTO team (id, name)
SELECT '11111111-1111-1111-1111-111111111111', 'Team A'
    WHERE NOT EXISTS (SELECT 1 FROM team WHERE id = '11111111-1111-1111-1111-111111111111');

INSERT INTO team (id, name)
SELECT '11111111-1111-1111-1111-111111111112', 'Team B'
    WHERE NOT EXISTS (SELECT 1 FROM team WHERE id = '11111111-1111-1111-1111-111111111112');


-- ASSIGNING TEAMS TO USER
INSERT INTO user_team (user_id, team_id)
SELECT '11111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111'
    WHERE NOT EXISTS (
    SELECT 1 FROM user_team
    WHERE user_id = '11111111-1111-1111-1111-111111111111'
      AND team_id = '11111111-1111-1111-1111-111111111111'
);

INSERT INTO user_team (user_id, team_id)
SELECT '11111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111112'
    WHERE NOT EXISTS (
    SELECT 1 FROM user_team
    WHERE user_id = '11111111-1111-1111-1111-111111111111'
      AND team_id = '11111111-1111-1111-1111-111111111112'
);

INSERT INTO user_team (user_id, team_id)
SELECT '11111111-1111-1111-1111-111111111112', '11111111-1111-1111-1111-111111111112'
    WHERE NOT EXISTS (
    SELECT 1 FROM user_team
    WHERE user_id = '11111111-1111-1111-1111-111111111112'
      AND team_id = '11111111-1111-1111-1111-111111111112'
);

-- CONVERSATION
INSERT INTO conversation (id)
SELECT '22222222-2222-2222-2222-222222222222'
    WHERE NOT EXISTS (
    SELECT 1 FROM conversation WHERE id = '22222222-2222-2222-2222-222222222222'
);

INSERT INTO conversation (id)
SELECT '22222222-2222-2222-2222-222222222223'
    WHERE NOT EXISTS (
    SELECT 1 FROM conversation WHERE id = '22222222-2222-2222-2222-222222222223'
);

-- ASSIGNING USERS TO CONVERSATION --
INSERT INTO conversation_participant (conversation_id, user_id)
SELECT '22222222-2222-2222-2222-222222222222', '11111111-1111-1111-1111-111111111111'
    WHERE NOT EXISTS (
    SELECT 1 FROM conversation_participant
    WHERE conversation_id = '22222222-2222-2222-2222-222222222222'
      AND user_id = '11111111-1111-1111-1111-111111111111'
);

INSERT INTO conversation_participant (conversation_id, user_id)
SELECT '22222222-2222-2222-2222-222222222222', '11111111-1111-1111-1111-111111111112'
    WHERE NOT EXISTS (
    SELECT 1 FROM conversation_participant
    WHERE conversation_id = '22222222-2222-2222-2222-222222222222'
      AND user_id = '11111111-1111-1111-1111-111111111112'
);

INSERT INTO conversation_participant (conversation_id, user_id)
SELECT '22222222-2222-2222-2222-222222222223', '11111111-1111-1111-1111-111111111111'
    WHERE NOT EXISTS (
    SELECT 1 FROM conversation_participant
    WHERE conversation_id = '22222222-2222-2222-2222-222222222223'
      AND user_id = '11111111-1111-1111-1111-111111111111'
);

INSERT INTO conversation_participant (conversation_id, user_id)
SELECT '22222222-2222-2222-2222-222222222223', '11111111-1111-1111-1111-111111111112'
    WHERE NOT EXISTS (
    SELECT 1 FROM conversation_participant
    WHERE conversation_id = '22222222-2222-2222-2222-222222222223'
      AND user_id = '11111111-1111-1111-1111-111111111112'
);





-- MESSAGES --
INSERT INTO message (id, conversation_id, sender_id, content, sent_at)
SELECT '33333333-3333-3333-3333-333333333331',
       '22222222-2222-2222-2222-222222222222',
       '11111111-1111-1111-1111-111111111111',
       'Hey! How are you doing?',
       NOW()
    WHERE NOT EXISTS (
    SELECT 1 FROM message WHERE id = '33333333-3333-3333-3333-333333333331'
);

INSERT INTO message (id, conversation_id, sender_id, content, sent_at)
SELECT '33333333-3333-3333-3333-333333333332',
       '22222222-2222-2222-2222-222222222222',
       '11111111-1111-1111-1111-111111111112',
       'I''m good, thanks! What about you?',
       NOW()
    WHERE NOT EXISTS (
    SELECT 1 FROM message WHERE id = '33333333-3333-3333-3333-333333333332'
);

INSERT INTO message (id, conversation_id, sender_id, content, sent_at)
SELECT '33333333-3333-3333-3333-333333333333',
       '22222222-2222-2222-2222-222222222222',
       '11111111-1111-1111-1111-111111111111',
       'Doing great! Just working on our new project.',
       NOW()
    WHERE NOT EXISTS (
    SELECT 1 FROM message WHERE id = '33333333-3333-3333-3333-333333333333'
);

INSERT INTO message (id, conversation_id, sender_id, content, sent_at)
SELECT '33333333-3333-3333-3333-333333333334',
       '22222222-2222-2222-2222-222222222222',
       '11111111-1111-1111-1111-111111111112',
       'Sounds exciting! Let me know if I can help.',
       NOW()
    WHERE NOT EXISTS (
    SELECT 1 FROM message WHERE id = '33333333-3333-3333-3333-333333333334'
);

INSERT INTO message (id, conversation_id, sender_id, content, sent_at)
SELECT '33333333-3333-3333-3333-333333333335',
       '22222222-2222-2222-2222-222222222222',
       '11111111-1111-1111-1111-111111111111',
       'Absolutely, I''ll share the details soon!',
       NOW()
    WHERE NOT EXISTS (
    SELECT 1 FROM message WHERE id = '33333333-3333-3333-3333-333333333335'
);